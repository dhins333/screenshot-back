(this["webpackJsonpscreenshot-front"]=this["webpackJsonpscreenshot-front"]||[]).push([[0],{36:function(e,t,a){e.exports=a(66)},46:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(15),s=a.n(r),o=a(8),l=(a(45),a(46),a(12)),i=a(35),u=a(14),m=function(e,t){switch(t.type){case"set_games":return Object(u.a)(Object(u.a)({},e),{},{games:t.data});case"set_screenshots":return Object(u.a)(Object(u.a)({},e),{},{screenshots:t.data});default:return e}},d=Object(l.c)(m,{games:[],screenshots:[]},Object(l.a)(i.a)),f=a(10),p=a(2),h=a(13),E=a.n(h),v=a(20),b=a(21),g=a.n(b),y=a(17),j=Object(p.f)((function(e){var t=c.a.createRef(),a=c.a.createRef(),r=Object(n.useState)(!1),s=Object(y.a)(r,2),o=s[0],l=s[1];Object(n.useEffect)((function(){!0===o?(a.current.style.display="none",t.current.style.display="block"):(a.current.style.display="block",t.current.style.display="none")}));return c.a.createElement("div",{className:"card",onClick:function(){e.history.push("/games/".concat(e.id))}},c.a.createElement("div",{className:"card-overlay"},c.a.createElement("div",{className:"card-overlay-text"},e.name)),c.a.createElement("img",{className:"card-image",width:"258px",height:"315px",src:e.src,alt:e,ref:t,onLoad:function(){l(!0)}}),c.a.createElement("div",{className:"spinner",ref:a},"Loading..."))})),N=function(){var e=Object(o.c)((function(e){return e.games})),t=Object(o.b)();Object(n.useEffect)((function(){t(function(){var e=Object(v.a)(E.a.mark((function e(t){var a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/games");case 3:a=e.sent,t({type:"set_games",data:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.replace("/error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return c.a.createElement("div",{className:"main-page"},0===e.length?c.a.createElement("div",{className:"loader"},"Loading..."):c.a.createElement("div",{className:"card-container"},e.map((function(e,t){return c.a.createElement(j,{src:e.thumbnail,name:e.name,key:t,id:e._id})}))))},O=function(){return c.a.createElement("div",{className:"header-container"},c.a.createElement("div",{className:"header"},c.a.createElement(f.b,{className:"header-title",to:"/"},"Screenshots")))},w=function(){return c.a.createElement("div",{className:"error-container"},c.a.createElement("h2",{className:"error-code"},"404"),c.a.createElement("h3",{className:"error-title"},"Not Found"))},k=function(e){var t=Object(n.useState)(!1),a=Object(y.a)(t,2),r=a[0],s=a[1],o=c.a.createRef(),l=c.a.createRef();Object(n.useEffect)((function(){!0===r&&(l.current.style.display="none",o.current.style.display="block")}));return c.a.createElement("div",{className:"screenshot",onClick:function(){window.open(e.url)}},c.a.createElement("div",{className:"spinner",ref:l},"Loading..."),c.a.createElement("img",{src:"".concat(e.url,"?w=1280&h=720"),ref:o,alt:"screenshot",className:"screenshot-image",onLoad:function(){s(!0)}}))},x=function(e){var t=Object(o.c)((function(e){return e.screenshots})),a=Object(o.b)();Object(n.useEffect)((function(){var t;return a((t=e.match.params.id,function(){var e=Object(v.a)(E.a.mark((function e(a){var n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/screenshots/".concat(t));case 3:n=e.sent,a({type:"set_screenshots",data:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),window.location.replace("/error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),function(){a({type:"set_screenshots",data:[]})}}),[a,e.match.params.id]);return c.a.createElement("div",{className:"screenshots-page"},0===t.length?c.a.createElement("div",{className:"loader"},"Loading..."):c.a.createElement("div",{className:"screenshots-container"},t.map((function(e,t){return c.a.createElement(k,{url:e.url,key:t})}))))},L=function(){return c.a.createElement(f.a,null,c.a.createElement(O,null),c.a.createElement(p.c,null,c.a.createElement(p.a,{path:"/",component:N,exact:!0}),c.a.createElement(p.a,{path:"/games/:id",component:x,exact:!0}),c.a.createElement(p.a,{path:"/error",component:w,exact:!0}),c.a.createElement(p.a,{path:"*",component:w})))};s.a.render(c.a.createElement(o.a,{store:d},c.a.createElement(L,null)),document.getElementById("root"))}},[[36,1,2]]]);